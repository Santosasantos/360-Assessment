<div class="row">
  <div class="col-md-3">
    <span class="hipster img-fluid rounded"></span>
  </div>

  <div class="col-md-9">
    <h1 class="display-4"><span>Welcome to Brac ePMS!</span></h1>

    <div>
      @if (account() !== null) {
        @if (showLoggedMessage){
          <div class="alert alert-success">
            @if (account()) {
              <span id="home-logged-message">You are logged in as user &quot;{{ account()!.login }}&quot;.</span>
            }
          </div>
        }

        <div class="input-group mb-3">
          <input
            type="text"
            class="form-control"
            placeholder="Enter Employee PIN"
            aria-label="Employee PIN"
            aria-describedby="button-search"
            (input)="onSearch($event)"
          />
        </div>
        <!--          <button class="btn btn-outline-secondary" type="button" (click)="searchEmployee()" id="button-search">-->
          <!--            Search-->
          <!--          </button>-->
          <!--        </div>-->
          <!--         <div>-->
          <!--           @if (employee()){-->
          <!--             <h2>{{employee()!.lastname}}</h2>-->
          <!--           }-->

          <!--         </div>-->
        <div>
          @if (employee() && !showErrorMessage){
            <div class="card">
              <div class="card-header">
                <h2>{{ employee()!.firstname }} {{ employee()!.lastname }}({{employee()!.pin}} )</h2>
              </div>
              <div class="card-body">
                <div class="row">
                  @if (employee().profile){
                  <div class="col-md-2 img-fluid rounded">
                    <a (click)="openFile(employee().profile??'',employee().profileContentType)">
                      <img [src]="'data:'+ employee().profileContentType+ ';base64,' + employee().profile"
                           class="img-fluid rounded"
                           alt="employee-profile.jpg"
                      />
                    </a>

                  </div>
                  }
                  <div class="col-md-4">
                    <p><strong>Project:</strong> {{ employee()!.project }}</p>
                    <p><strong>Employee Category:</strong> {{ employee()!.employeeCategory }}</p>
                    <p><strong>Designation:</strong> {{ employee()!.designation }}</p>
                    <p><strong>Functional Designation:</strong> {{ employee()!.functionalDesignation }}</p>
                    <p><strong>Joining Date:</strong> {{ employee()!.joiningDate}}</p>
                  </div>
                  <span class="vl col-md-1"></span>
                  <div class="col-md-5">
                    @if (employee()!.supervisor) {

                      <div>

                        <a (click)="searchOne(employee()!.supervisor?.pin)"><p><strong>Supervisor: </strong>{{ employee()!.supervisor?.pin }}</p></a>
                      </div>
                    }
                    <p><strong>Current Office:</strong> {{ employee()!.currentOffice }}</p>
                    <p><strong>Job Status:</strong> {{ employee()!.jobStatus }}</p>
                    <p><strong>Status:</strong> {{ employee()!.employeeStatus }}</p>
                    <p><strong>Date of Birth:</strong> {{ employee()!.dateOfBirth}}</p>
                    <p><strong>Gender:</strong> {{ employee()!.gender }}</p>
                    <p><strong>Mobile:</strong> {{ employee()!.mobile }}</p>
                    <p><strong>Email:</strong> {{ employee()!.email }}</p>
                  </div>
                </div>
              </div>
            </div>
          } @else if (showErrorMessage) {
            <div class="alert alert-dismissible alert-danger">
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
              <strong>Oh snap! No Employee Found with that Record</strong>
            </div>
          }
        </div>
      } @else {
        <div class="alert alert-warning">
          <span>If you want to </span>
          <a class="alert-link" (click)="login()">sign in</a
          ><span
        >, you can try the default accounts:<br />- Administrator (login=&quot;admin&quot; and password=&quot;admin&quot;) <br />- User
            (login=&quot;user&quot; and password=&quot;user&quot;).</span
        >
        </div>

        <div class="alert alert-warning">
          <span>You don&apos;t have an account yet?</span>&nbsp;
          <a class="alert-link" routerLink="/account/register">Register a new account</a>
        </div>
      }
    </div>
  </div>
</div>
